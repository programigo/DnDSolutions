@model AnimalListingViewModel

<div class="row">
	@foreach (var cat in Model.Cats)
	{
		<div class="col-lg-4 col-md-6 mb-4">
			<div class="card h-100">
				@if (cat.Photos.Any())
				{
					<img src="~/images/@cat.Photos.First().Path" class="card-img">
				}
				else
				{
					<img src="~/images/no-image-icon-11.png" class="card-img">
				}
				<div class="card-body">
					<h4 class="card-title">
						<a asp-controller="Animals" asp-action="Cats" asp-route-id="@cat.Id">@cat.Title</a>
					</h4>
					<p class="card-text">Pick up location: @cat.PickupLocation</p>
					<p class="card-text">Delivery location: @cat.DeliveryLocation</p>
					<p class="card-text">Collection date: @cat.CollectionDateEarliest.ToShortDateString()</p>
				</div>
				@await Component.InvokeAsync("BidForm", new { deliveryId = cat.Id, deliveryTitle = cat.Title })
			</div>
		</div>
	}

	@foreach (var dog in Model.Dogs)
	{
		<div class="col-lg-4 col-md-6 mb-4">
			<div class="card h-100">
				@if (dog.Photos.Any())
				{
					<img src="~/images/@dog.Photos.First().Path" class="card-img">
				}
				else
				{
					<img src="~/images/no-image-icon-11.png" class="card-img">
				}
				<div class="card-body">
					<h4 class="card-title">
						<a asp-controller="Animals" asp-action="Dogs" asp-route-id="@dog.Id">@dog.Title</a>
					</h4>
					<p class="card-text">Pick up location: @dog.PickupLocation</p>
					<p class="card-text">Delivery location: @dog.DeliveryLocation</p>
					<p class="card-text">Collection date: @dog.CollectionDateEarliest.ToShortDateString()</p>
				</div>
				@await Component.InvokeAsync("BidForm", new { deliveryId = dog.Id, deliveryTitle = dog.Title })
			</div>
		</div>
	}

	@foreach (var horse in Model.Horses)
	{
		<div class="col-lg-4 col-md-6 mb-4">
			<div class="card h-100">
				@if (horse.Photos.Any())
				{
					<img src="~/images/@horse.Photos.First().Path" class="card-img">
				}
				else
				{
					<img src="~/images/no-image-icon-11.png" class="card-img">
				}
				<div class="card-body">
					<h4 class="card-title">
						<a asp-controller="Animals" asp-action="Horses" asp-route-id="@horse.Id">@horse.Title</a>
					</h4>
					<p class="card-text">Pick up location: @horse.PickupLocation</p>
					<p class="card-text">Delivery location: @horse.DeliveryLocation</p>
					<p class="card-text">Collection date: @horse.CollectionDateEarliest.ToShortDateString()</p>
				</div>
				@await Component.InvokeAsync("BidForm", new { deliveryId = horse.Id, deliveryTitle = horse.Title })
			</div>
		</div>
	}

	@foreach (var livestock in Model.Livestock)
	{
		<div class="col-lg-4 col-md-6 mb-4">
			<div class="card h-100">
				@if (livestock.Photos.Any())
				{
					<img src="~/images/@livestock.Photos.First().Path" class="card-img">
				}
				else
				{
					<img src="~/images/no-image-icon-11.png" class="card-img">
				}
				<div class="card-body">
					<h4 class="card-title">
						<a asp-controller="Animals" asp-action="Livestock" asp-route-id="@livestock.Id">@livestock.Title</a>
					</h4>
					<p class="card-text">Pick up location: @livestock.PickupLocation</p>
					<p class="card-text">Delivery location: @livestock.DeliveryLocation</p>
					<p class="card-text">Collection date: @livestock.CollectionDateEarliest.ToShortDateString()</p>
				</div>
				@await Component.InvokeAsync("BidForm", new { deliveryId = livestock.Id, deliveryTitle = livestock.Title })
			</div>
		</div>
	}
</div>

@if (Model.TotalAnimals > Model.Cats.Count() + Model.Dogs.Count() + Model.Horses.Count() + Model.Livestock.Count())
{
	<ul class="pagination justify-content-center">
		<li class="page-item @(Model.CurrentPage == 1 ? "disabled" : string.Empty)">
			<a class="page-link"
			   aria-label="Previous"
			   asp-route-page="@Model.PreviousPage">
				<span id="previous-page" aria-hidden="true">
					Previous page
				</span>
			</a>
		</li>
		<li class="page-item @(Model.CurrentPage == Model.TotalPages ? "disabled" : string.Empty)">
			<a class="page-link"
			   aria-label="Next"
			   asp-route-page="@Model.NextPage">
				<span id="next-page" aria-hidden="true">
					Next page
				</span>
			</a>
		</li>
	</ul>
}